<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home - Medlinkx</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <link
      rel="icon"
      sizes="16x16"
      href="images/MedLinx.png"
      type="image/x-png"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Roboto", sans-serif;
        background-color: #ffffff;
        color: #333;
      }

      .dark-mode {
        background-color: #333;
        color: #ffffff;
      }

      .dark-mode .profile-container,
      .dark-mode .menu-item {
        background-color: #444;
        box-shadow: none;
      }

      .dark-mode .menu-item:hover {
        background-color: #555;
        box-shadow: none;
      }

      .dark-mode .settings-menu {
        background-color: #444;
      }

      .dark-mode .settings-menu a {
        color: #f9f9f9;
      }

      .dark-mode .profile-container h2,
      .dark-mode .profile-container p,
      .dark-mode .menu-item span {
        color: #ffffff;
      }

      .dark-mode .menu-item img,
      .dark-mode .profile-pic img {
        filter: invert(1);
      }
    </style>
  </head>

  <body class="bg-gray-100 dark:bg-gray-900 dark:text-gray-100">
    <header
      class="bg-white dark:bg-gray-800 shadow-md p-4 flex justify-between items-center"
    >
      <div class="flex items-center">
        <img src="images/MedLinx.png" alt="MedLinkX logo" class="h-10 mr-3" />
        <h1 class="text-xl font-bold">MedLinkX</h1>
      </div>
      <div class="relative">
        <button class="settings-icon" onclick="toggleSettingsMenu()">
          <img src="images/setting.png" alt="Settings" class="h-8" />
        </button>
        <div
          class="settings-menu hidden absolute right-0 mt-2 py-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg"
          id="settingsMenu"
        >
          <a href="#" class="block px-4 py-2 text-sm" onclick="toggleDarkMode()"
            >Toggle Dark Mode</a
          >
          <a
            href="index.html"
            class="block px-4 py-2 text-sm"
            onclick="sessionStorage.clear();"
            >Logout</a
          >
        </div>
      </div>
    </header>

    <div class="max-w-4xl mx-auto p-4">
      <div
        class="profile-container bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md flex items-center mb-6"
      >
        <div class="profile-pic mr-4">
          <img
            src="images/hospital.png"
            alt="Profile Picture"
            class="h-16 w-16 rounded-full"
          />
        </div>
        <div class="user-info">
          <h2 id="Hospital_Name" class="text-xl font-semibold"></h2>
          <p id="address" class="text-gray-500 dark:text-gray-400"></p>
        </div>
      </div>

      <div class="menu-container grid grid-cols-2 gap-4">
        <div
          class="menu-item bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md flex items-center cursor-pointer"
          onclick="window.location.href='history_appointment.html';"
        >
          <img
            src="images/history.png"
            alt="Appointment History Icon"
            class="h-10 mr-4"
          />
          <span class="font-medium">Appointment History</span>
        </div>
        <div
          class="menu-item bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md flex items-center cursor-pointer"
          onclick="window.location.href='Patient_record.html';"
        >
          <img src="images/record.png" alt="Record Icon" class="h-10 mr-4" />
          <span class="font-medium">Store Patient Data</span>
        </div>
        <div
          class="menu-item bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md flex items-center cursor-pointer"
          onclick="window.location.href='Patient_appointment.html';"
        >
          <img
            src="images/appointment.png"
            alt="Make Appointment Icon"
            class="h-10 mr-4"
          />
          <span class="font-medium">View patient appointment</span>
        </div>
        <div
          class="menu-item bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md flex items-center cursor-pointer"
          onclick="window.location.href='view.html';"
        >
          <img
            src="images/data.png"
            alt="View Patient Data Icon"
            class="h-10 mr-4"
          />
          <span class="font-medium">View patient data</span>
        </div>
        <div
          class="menu-item bg-white dark:bg-gray-800 p-4 rounded-lg shadow-md flex items-center cursor-pointer"
          onclick="window.location.href='search.html';"
        >
          <img src="images/search.svg" alt="search Icon" class="h-10 mr-4" />
          <span class="font-medium">Access Centralized Storage</span>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const hospitalName = sessionStorage.getItem("hospitalName");
        const establishmentDate = sessionStorage.getItem("establishmentDate");
        const address = sessionStorage.getItem("address");

        const city = sessionStorage.getItem("city");
        const state = sessionStorage.getItem("state");
        const country = sessionStorage.getItem("country");
        const phoneNumber = sessionStorage.getItem("phoneNumber");
        const email = sessionStorage.getItem("email");
        const website = sessionStorage.getItem("website");
        const hospitalType = sessionStorage.getItem("hospitalType");
        const emergencyContact = sessionStorage.getItem("emergencyContact");

        if (!hospitalName) {
          window.location.href = "login.html";
        } else {
          console.log(
            "what are you looking for is not here the api key are blocked to allow only request from this site"
          );
        }

        document.getElementById("Hospital_Name").innerText = hospitalName;
        document.getElementById("address").innerText = address;
      });

      function toggleSettingsMenu() {
        const settingsMenu = document.getElementById("settingsMenu");
        if (settingsMenu.style.display === "block") {
          settingsMenu.style.display = "none";
        } else {
          settingsMenu.style.display = "block";
        }
      }

      function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
      }

      document.addEventListener("click", function (event) {
        const settingsIcon = document.querySelector(".settings-icon img");
        const settingsMenu = document.getElementById("settingsMenu");
        if (
          !settingsIcon.contains(event.target) &&
          !settingsMenu.contains(event.target)
        ) {
          settingsMenu.style.display = "none";
        }
      });
    </script>
  </body>
</html>
